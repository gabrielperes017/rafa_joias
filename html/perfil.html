<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Fontes -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/perfil.css">
  <title>Meu Perfil | Rafa Joias Folheadas</title>
</head>
<body>
  <!-- ===== CABE√áALHO ===== -->
  <header class="cabecalho">
    <div class="bloco">
      <a href="/" class="logo-link">
        <img src="/img/logo branca.jpg" alt="Logo da empresa" class="logo">
      </a>

      <form class="pesquisa">
        <input type="search" placeholder="Buscar...">
        <button type="submit">üîç</button>
      </form>

      <nav class="icones">
        <a href="#" class="icon-btn"><img src="/img/zap.png" alt="WhatsApp"></a>
        <a href="/perfil" class="icon-btn"><img src="/img/perfil.png" alt="Perfil"></a>
        <a href="/carrinho" class="icon-btn">
          <img src="/img/carrinho.png" alt="Carrinho">
          <span class="cart-count" id="cart-count">0</span>
        </a>
        <a href="#" class="icon-btn"><img src="/img/Favoritos.png" alt="Favoritos"></a>
      </nav>
    </div>
  </header>

  <!-- ===== PERFIL DO USU√ÅRIO ===== -->
  <section class="bloco_perfil">
    <div class="usuario">
      <img src="/img/usuario.jpg" alt="Foto do usu√°rio">
      <h2 id="nome">Carregando...</h2>
    </div>

    <div class="dados">
      <div class="info">
        <p><strong>Email:</strong> <span id="email"></span></p>
        <p><strong>Telefone:</strong> <span id="telefone"></span></p>
        <p><strong>Endere√ßo:</strong> <span id="endereco"></span></p>

        <div class="botoes">
          <button onclick="editarPerfil()">‚úèÔ∏è Editar Perfil</button>
          <button onclick="sair()">üö™ Sair</button>
        </div>
      </div>
    </div>
  </section>

  <script>
    const userKey = "usuario_logado";

    // Cria usu√°rio de exemplo caso n√£o exista
    if (!localStorage.getItem(userKey)) {
      const exemploUsuario = {
        nome: "Rafaela Joias",
        email: "contato@rafajoias.com",
        telefone: "(44) 99999-9999",
        endereco: "Rua das P√©rolas, 123 - Cianorte/PR",
      };
      localStorage.setItem(userKey, JSON.stringify(exemploUsuario));
    }

    const usuario = JSON.parse(localStorage.getItem(userKey));

    // Mostra os dados
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("nome").textContent = usuario.nome;
      document.getElementById("email").textContent = usuario.email;
      document.getElementById("telefone").textContent = usuario.telefone;
      document.getElementById("endereco").textContent = usuario.endereco;
    });

    // Editar perfil
    function editarPerfil() {
      const novoNome = prompt("Novo nome:", usuario.nome);
      const novoEmail = prompt("Novo e-mail:", usuario.email);
      const novoTelefone = prompt("Novo telefone:", usuario.telefone);
      const novoEndereco = prompt("Novo endere√ßo:", usuario.endereco);

      if (novoNome && novoEmail) {
        const atualizado = { nome: novoNome, email: novoEmail, telefone: novoTelefone, endereco: novoEndereco };
        localStorage.setItem(userKey, JSON.stringify(atualizado));
        alert("‚úÖ Perfil atualizado!");
        location.reload();
      }
    }

    // Logout
    function sair() {
      localStorage.removeItem(userKey);
      alert("üëã Voc√™ saiu da conta.");
      window.location.href = "/";
    }
  </script>
</body>
</html>
